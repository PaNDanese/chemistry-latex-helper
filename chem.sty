\usepackage{siunitx}
\usepackage{chemformula}
\usepackage{chemfig}
\usepackage{gensymb}

%siunitx settings
\DeclareSIUnit\Molar{\textsc{m}}
\newcommand{\molar}[1]{\SI{#1}{\Molar}}
\newcommand{\degc}[1]{\SI{#1}{\degreeCelsius}}
\newcommand{\degk}[1]{\SI{#1}{\kelvin}}
\newcommand{\gram}[1]{\SI{#1}{\g}}
\newcommand{\kgram}[1]{\SI{#1}{\kilo \g}}
\newcommand{\moles}[1]{\SI{#1}{\mole}}
\newcommand{\liters}[1]{\SI{#1}{\liter}}
\newcommand{\ml}[1]{\SI{#1}{\milli \liter}}
\newcommand{\mmass}[1]{\SI{#1}{\g \per \mole}}
\newcommand{\density}[1]{\SI{#1}{\g \per \milli \liter}}

% chemfig settings
\setbondstyle{line width=1.5pt}
\setdoublesep{2.8pt}
\setatomsep{2.5em}
\setcrambond{4.5pt}{0.4pt}{1pt}

% general formatting helpers
\newcommand{\fillintheblank}{\underline{\hspace{2cm}}}
\newcommand{\cmbreak}{\\[1cm]}

%formulas
\newcommand{\acetate}{\ch{CH3COO^-}}
\newcommand{\acetic}{\ch{CH3COOH}}
\newcommand{\ammonia}{\ch{NH3}}
\newcommand{\ammonium}{\ch{NH4^+}}
\newcommand{\calciumhydroxide}{\ch{Ca(OH)2}}
\newcommand{\feiii}{\ch{Fe\pch[3]}}
\newcommand{\scn}{\ch{SCN^-}}
\newcommand{\fescn}{\ch{FeSCN\pch[2]}}
\newcommand{\hydronium}{\ch{H3O^+}}
\newcommand{\hydroxide}{\ch{OH^-}}
\newcommand{\kscn}{\ch{KSCN}}
\newcommand{\liquid}{_{(l)}}
\newcommand{\solid}{_{(s)}}

% keq
\newif\ifstartedinmathmode
\newcommand*{\keq}{
  \relax\ifmmode\startedinmathmodetrue\else\startedinmathmodefalse\fi
  {\ifstartedinmathmode K_{eq}\else$K_{eq}$\fi}%
}

% ka
\newif\ifstartedinmathmode
\newcommand*{\ka}{
  \relax\ifmmode\startedinmathmodetrue\else\startedinmathmodefalse\fi
  {\ifstartedinmathmode K_a\else$K_a$\fi}%
}

% Ksp
\newif\ifstartedinmathmode
\newcommand*{\ksp}{
  \relax\ifmmode\startedinmathmodetrue\else\startedinmathmodefalse\fi
  {\ifstartedinmathmode K_{sp}\else$K_{sp}$\fi}%
}

% pKa
\newif\ifstartedinmathmode
\newcommand*{\pka}{
  \relax\ifmmode\startedinmathmodetrue\else\startedinmathmodefalse\fi
  {\ifstartedinmathmode pK_a\else$pK_a$\fi}%
}

% pKb
\newif\ifstartedinmathmode
\newcommand*{\pkb}{
  \relax\ifmmode\startedinmathmodetrue\else\startedinmathmodefalse\fi
  {\ifstartedinmathmode pK_b\else$pK_b$\fi}%
}
